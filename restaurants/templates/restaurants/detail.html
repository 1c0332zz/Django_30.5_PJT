{% extends 'base.html' %}

{% block title %}
  상세보기
{% endblock title %}

{% block body %}

  <!-- Img-Top -->
  <div class="img-top">
    <div class="img-top__list">
      <div class="img-top__img">
        <img src="https://i.pinimg.com/564x/f1/13/66/f11366925ead8740dac733b2a0b1912c.jpg" alt="">
      </div>
      <div class="img-top__img">
        <img src="https://i.pinimg.com/564x/f1/13/66/f11366925ead8740dac733b2a0b1912c.jpg" alt="">
      </div>
      <div class="img-top__img">
        <img src="https://i.pinimg.com/564x/f1/13/66/f11366925ead8740dac733b2a0b1912c.jpg" alt="">
      </div>
      <div class="img-top__img">
        <img src="https://i.pinimg.com/564x/f1/13/66/f11366925ead8740dac733b2a0b1912c.jpg" alt="">
      </div>
    </div>
  </div>

  <div class="container cont">
    <!-- Detail -->
    <div class="detail">
      <!-- Detail-Top -->
      <div class="detail-top">
        <div class="">

          <div class="detail__title">
            <h2>{{ restaurant.name }}</h2>
            <span>평점</span>
          </div>
          <div class="detail__count d-flex">
            <div class="d-flex align-items-center">
              <i class="fa-solid fa-eye me-1"></i>
              <p class="m-0">조회수</p>
            </div>
            <div class="d-flex align-items-center">
              <i class="fa-solid fa-pen ms-3 me-1"></i>
              <p class="m-0">리뷰수</p>
            </div>
            <div class="d-flex align-items-center">
              <i class="fa-solid fa-star ms-3 me-1"></i>
              <p class="m-0">별점수</p>
            </div>
          </div>
        </div>

        <div class="detail__btn d-flex">
          <div class="text-center me-3">
            <a href="{% url 'reviews:review_create' restaurant.pk %}">
              <i class="fa-regular fa-pen-to-square fa-2x"></i>
              <p>리뷰쓰기</p>
            </a>
          </div>
          <div class="text-center">
            <i class="fa-regular fa-star fa-2x"></i>
            <p>가고싶다</p>
          </div>
        </div>
      </div>

      <!-- Detail-Info -->
      <div class="detail-info">
        <table>
          <tbody>
            <tr>
              <th>주소</th>
              <td>{{ restaurant.address }}</td>
            </tr>
            <tr>
              <th>전화번호</th>
              <td>{{ restaurant.shop_number }}</td>
            </tr>
            <tr>
              <th>가격대</th>
              <td>{{ restaurant.between_pay }}</td>
            </tr>
            <tr>
              <th>영업시간</th>
              <td>{{ restaurant.opening_time }}</td>
            </tr>
            <tr>
              <th>쉬는시간</th>
              <td>{{ restaurant.break_day }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Detail-Update -->
      <div class="detail-update text-end">
        <p>업데이트 :
          {{ restaurant.updated_at|date:'Y-m-d' }}</p>
      </div>
    </div>
  </div>

  <div class='container'>
    <h1 class='mt-4'>{{ restaurant.name }}
      <a class='btn' href="{% url 'reviews:review_create' restaurant.pk%}">리뷰작성</a>
    </h1>
    <hr>
    <p>주소 :
      {{restaurant.address }}</p>
    <p>전화번호 :
      {{ restaurant.shop_number }}</p>
    <p>기본 가격대 :
      {{ restaurant.between_pay }}</p>
    <p>영업 시간 :
      {{ restaurant.opening_time }}</p>
    <span>식당 홈페이지:
    </span>
    <a href="">식당 홈페에지 수정 할 곳</a>
    <p>카테고리 :
      {{ category.tag1 }},
      {{ category.tag2 }},
      {{ category.tag3 }},
      {{ category.tag4 }},
      {{ category.tag5 }}</p>
    <div class='text-end'>
      <a class='btn btn-dark my-2' href="{% url 'restaurants:delete' restaurant.pk %}">삭제하기</a>
    </div>
    <hr>
    {% for review in reviews %}
      <p>{{ review.user }}</p>
      <p>{{ review.content }}</p>
      {% for reviewimage in review.reviewimage_set.all %}
        <img src="{{ reviewimage.photo1.url }}" alt="">
        {% endfor%}
        <p>{{ review.created_at }}</p>
        {% endfor%}
      </div>

    {% endblock body %}
